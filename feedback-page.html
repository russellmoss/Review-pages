<!DOCTYPE html>
<html>
<head>
  <title>Feedback Form</title>
  <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-database.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background-color: #f5e6d3; padding: 20px; }
    img { width: 200px; height: 200px; margin-bottom: 20px; }
    textarea, input { width: 80%; margin: 10px 0; padding: 10px; font-size: 16px; }
    .submit-button { padding: 15px 30px; font-size: 18px; color: white; background-color: #c4a484; border-radius: 25px; cursor: pointer; }
    .submit-button:hover { background-color: #b59476; }
  </style>
</head>
<body>
  <img src="https://i.imgur.com/qfTW5j0.png" alt="Logo">
  <h2>We Value Your Feedback</h2>
  <form id="feedbackForm">
    <input id="name" type="text" placeholder="Your Name" required><br>
    <input id="email" type="email" placeholder="Your Email" required><br>
    <textarea id="comment" placeholder="Your Comments" rows="4" required></textarea><br>
    <button type="submit" class="submit-button">Submit</button>
  </form>

  <script>
    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyADopiZcom9_2dEP_O8rImKCqzsXBsAx8I",
      authDomain: "review-logging-cbecd.firebaseapp.com",
      databaseURL: "https://review-logging-cbecd-default-rtdb.firebaseio.com",
      projectId: "review-logging-cbecd",
      storageBucket: "review-logging-cbecd.firebasestorage.app",
      messagingSenderId: "159382094438",
      appId: "1:159382094438:web:7ab0e64549901c604363a7"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Handle Form Submission
    document.getElementById("feedbackForm").addEventListener("submit", (e) => {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const comment = document.getElementById("comment").value;
      const params = new URLSearchParams(window.location.search);
      const employee = params.get("employee") || "Unknown";
      const stars = params.get("stars") || "Unknown";

      // Log feedback to Firebase
      database.ref("feedback").push({
        name,
        email,
        comment,
        employee,
        stars,
        timestamp: new Date().toISOString()
      });

      // Send email notification (replace with email service if necessary)
      alert("Thank you for your feedback! We'll follow up soon.");
      window.location.href = "https://russellmoss.github.io/Review-pages/thank-you-page.html";
    });
  </script>
</body>
</html>
